@using LerningApp.Web.ViewModels.Course
@model IEnumerable<CourseIndexViewModel>

@{
    ViewData["Title"] = "Courses";
}

<div class="courses-header">
    <div>
        <div class="eyebrow">–ö–∞—Ç–∞–ª–æ–≥</div>
        <h1 class="title">–í—Å–∏—á–∫–∏ –∫—É—Ä—Å–æ–≤–µ</h1>
        <div class="subtitle">–ò–∑–±–µ—Ä–∏ –∫—É—Ä—Å –∏ –∑–∞–ø–æ—á–Ω–∏ –¥–∞ —É—á–∏—à.</div>
    </div>
    <a asp-action="Create" class="btn btn-outline-primary btn-pill">
        + –ù–æ–≤ –∫—É—Ä—Å
    </a>
</div>

@if (!Model.Any())
{
    <div class="alert alert-info">
        –í—Å–µ –æ—â–µ –Ω—è–º–∞ –¥–æ–±–∞–≤–µ–Ω–∏ –∫—É—Ä—Å–æ–≤–µ.
    </div>
}
else
{
    <div class="course-grid">
        @foreach (var course in Model)
        {
            var isInactive = !course.IsActive;

            <div class="course-card @(isInactive ? "inactive" : "")">
                <div class="course-top">
                    <span class="badge badge-level">@course.CourseLevel</span>
                    @if (course.IsEnrolled)
                    {
                        <span class="badge badge-enrolled">–ó–∞–ø–∏—Å–∞–Ω</span>
                    }
                    @if (isInactive)
                    {
                        <span class="badge badge-inactive">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span>
                    }
                </div>

                <div class="course-name">@course.Name</div>
                <div class="course-meta">
                    <span>üìò @course.LessonsCount —É—Ä–æ—Ü–∏</span>
                </div>

                <div class="course-actions">
                    <a asp-action="Details"
                       asp-route-id="@course.Id"
                       class="btn btn-primary btn-pill w-100">
                        –í–∏–∂ –∫—É—Ä—Å–∞ ‚Üí
                    </a>
                </div>
            </div>
        }
    </div>
}

<style>
    .courses-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 22px;
        gap: 16px;
        flex-wrap: wrap;
    }

    .eyebrow {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: .08em;
        color: #64748b;
        margin-bottom: 4px;
    }

    .title {
        font-size: 2rem;
        font-weight: 700;
        margin: 0 0 4px 0;
    }

    .subtitle {
        color: #6b7280;
    }

    .btn-pill {
        border-radius: 999px;
        padding: 8px 16px;
    }

    .course-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 16px;
    }

    .course-card {
        background: #ffffff;
        border: 1px solid #e5e7eb;
        border-radius: 18px;
        padding: 16px;
        box-shadow: 0 8px 22px rgba(15, 23, 42, 0.06);
        transition: transform .2s ease, box-shadow .2s ease;
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .course-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 28px rgba(15, 23, 42, 0.10);
    }

    .course-card.inactive {
        opacity: 0.75;
        filter: grayscale(0.15);
    }

    .course-top {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
    }

    .badge {
        border-radius: 999px;
        padding: 4px 10px;
        font-size: 0.75rem;
        font-weight: 600;
    }

    .badge-level {
        background: #e0f2fe;
        color: #0c4a6e;
    }

    .badge-enrolled {
        background: #ecfdf5;
        color: #065f46;
        border: 1px solid #a7f3d0;
    }

    .badge-inactive {
        background: #f3f4f6;
        color: #6b7280;
        border: 1px solid #e5e7eb;
    }

    .course-name {
        font-size: 1.1rem;
        font-weight: 700;
        color: #0f172a;
        margin-top: 6px;
    }

    .course-meta {
        color: #64748b;
        font-size: 0.9rem;
        margin-bottom: 10px;
    }

    .course-actions {
        margin-top: auto;
    }
</style>
